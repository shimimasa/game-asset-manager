# 要件定義書

## 概要

ゲーム開発用アセット管理・生成サービスは、JavaScript学習ゲーム開発において音楽、画像、その他のアセットの作成、保存、管理、再利用を効率化するシステムです。AI生成プロンプトの管理機能も含み、開発者がアセット関連の作業に費やす時間を大幅に削減し、複数プロジェクト間でのアセット共有を可能にします。

## 要件

### 要件 1

**ユーザーストーリー:** ゲーム開発者として、ゲームアセット（画像、音声ファイル）を一元的な場所に保存・整理したい。複数のプロジェクトで簡単に見つけて再利用できるようにするため。

#### 受け入れ基準

1. WHEN ユーザーがアセットファイルをアップロードする THEN システムは名前、種類、タグ、アップロード日を含むメタデータと共にファイルを保存する SHALL
2. WHEN ユーザーがアセットを検索する THEN システムはファイル種類、タグ、名前でフィルタリングされた結果を返す SHALL
3. WHEN ユーザーがアセットライブラリを表示する THEN システムはサムネイルと基本情報を含むグリッドレイアウトでアセットを表示する SHALL
4. IF アセットが画像の場合 THEN システムはサムネイルプレビューを生成・表示する SHALL
5. IF アセットが音声ファイルの場合 THEN システムはプレビュー用の再生ボタンを提供する SHALL

### 要件 2

**ユーザーストーリー:** ゲーム開発者として、AI生成プロンプトを保存・管理したい。成功したプロンプトを再利用してアセット作成を反復できるようにするため。

#### 受け入れ基準

1. WHEN ユーザーがプロンプトを作成する THEN システムはプロンプトテキスト、種類（画像/音声）、関連パラメータを保存する SHALL
2. WHEN ユーザーが保存されたプロンプトを表示する THEN システムは種類と作成日で整理されたプロンプトを表示する SHALL
3. WHEN ユーザーが保存されたプロンプトを選択する THEN システムはプロンプトの編集と再実行を可能にする SHALL
4. WHEN プロンプトがアセットを生成する THEN システムは自動的にプロンプトと生成されたアセットをリンクする SHALL
5. IF プロンプトが複数回使用される THEN システムは使用統計と成功率を追跡する SHALL

### 要件 3

**ユーザーストーリー:** ゲーム開発者として、システム内でプロンプトから直接アセットを生成したい。アセット作成ワークフローを効率化するため。

#### 受け入れ基準

1. WHEN ユーザーが画像生成プロンプトを送信する THEN システムはAI画像生成サービスと統合して生成された画像を返す SHALL
2. WHEN ユーザーが音声生成プロンプトを送信する THEN システムはAI音声生成サービスと統合して生成された音声ファイルを返す SHALL
3. WHEN アセット生成が完了する THEN システムは生成されたアセットを自動的にユーザーのライブラリに保存する SHALL
4. IF 生成が失敗する THEN システムは明確なエラーメッセージを表示して代替案を提案する SHALL
5. WHEN 生成が進行中の場合 THEN システムは進行状況インジケータと推定完了時間を表示する SHALL

### 要件 4

**ユーザーストーリー:** ゲーム開発者として、アセットをプロジェクトやコレクションに整理したい。異なるゲーム間で明確に分離しつつ、必要に応じてアセットを簡単に共有できるようにするため。

#### 受け入れ基準

1. WHEN ユーザーがプロジェクトを作成する THEN システムはプロジェクトの命名と説明を可能にする SHALL
2. WHEN ユーザーがアセットをプロジェクトに追加する THEN システムはファイルを複製せずにプロジェクト-アセット関係を維持する SHALL
3. WHEN ユーザーがプロジェクトを表示する THEN システムはそのプロジェクトに関連付けられたアセットのみを表示する SHALL
4. WHEN ユーザーがプロジェクト間でアセットを共有したい THEN システムはストレージを複製せずにアセット参照のコピーを可能にする SHALL
5. IF ユーザーがプロジェクトを削除する THEN システムはプロジェクト関連付けを削除するが実際のアセットファイルは保持する SHALL

### 要件 5

**ユーザーストーリー:** ゲーム開発者として、JavaScriptゲームに適した形式でアセットをエクスポートしたい。開発ワークフローに簡単に統合できるようにするため。

#### 受け入れ基準

1. WHEN ユーザーがエクスポート用アセットを選択する THEN システムは異なるファイル形式と品質設定のオプションを提供する SHALL
2. WHEN ユーザーがアセットをエクスポートする THEN システムは整理されたフォルダ構造でダウンロード可能なアーカイブを生成する SHALL
3. WHEN 画像をエクスポートする THEN システムは形式変換（PNG、JPG、WebP）とサイズ最適化オプションを提供する SHALL
4. WHEN 音声をエクスポートする THEN システムは形式変換（MP3、OGG、WAV）と圧縮オプションを提供する SHALL
5. IF エクスポートに複数のアセットが含まれる THEN システムはアセットメタデータと使用情報を含むマニフェストファイルを生成する SHALL

### 要件 6

**ユーザーストーリー:** ゲーム開発者として、アセットにタグ付けして分類したい。ゲーム構築時に特定の種類のコンテンツを素早く見つけられるようにするため。

#### 受け入れ基準

1. WHEN ユーザーがアセットをアップロードまたは生成する THEN システムはカスタムタグの追加と事前定義カテゴリからの選択を可能にする SHALL
2. WHEN ユーザーがタグで検索する THEN システムは指定されたタグのいずれかに一致する全てのアセットを返す SHALL
3. WHEN ユーザーがカテゴリでフィルタリングする THEN システムは割り当てられたカテゴリでグループ化されたアセットを表示する SHALL
4. WHEN アセット詳細を表示する THEN システムは関連する全てのタグを表示して編集を可能にする SHALL
5. IF 複数のユーザーがワークスペースを共有する THEN システムはコミュニティ使用に基づいて人気のタグを提案する SHALL